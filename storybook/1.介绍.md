https://zhuanlan.zhihu.com/p/148296971 

 

# ç®€ä»‹åŠä½¿ç”¨æ•™ç¨‹ 

Storybookæ˜¯ä¸€ä¸ªè¾…åŠ©UIæ§ä»¶å¼€å‘çš„å·¥å…·ã€‚é€šè¿‡storyåˆ›å»ºç‹¬ç«‹çš„æ§ä»¶ï¼Œè®©æ¯ä¸ªæ§ä»¶å¼€å‘éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„å¼€å‘è°ƒè¯•ç¯å¢ƒã€‚ Storybookçš„è¿è¡Œä¸ä¾èµ–äºé¡¹ç›®ï¼Œå¼€å‘äººå‘˜ä¸ç”¨æ‹…å¿ƒç”±äºå¼€å‘ç¯å¢ƒã€ä¾èµ–é—®é¢˜å¯¼è‡´ä¸èƒ½å¼€å‘æ§ä»¶ã€‚æ”¯æŒReactã€ Vueå’ŒAngularã€‚ 

ç”¨æˆ·å¯ä»¥ç‹¬ç«‹åœ°å¼€å‘UIç»„ä»¶ï¼Œè€Œä¸å¿…æ‹…å¿ƒåº”ç”¨ç¨‹åºç‰¹å®šçš„ä¾èµ–å…³ç³»å’Œéœ€æ±‚ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿç‹¬ç«‹åœ°åˆ›å»ºç»„ä»¶ï¼Œå¹¶åœ¨å­¤ç«‹çš„å¼€å‘ç¯å¢ƒä¸­äº¤äº’åœ°å±•ç¤ºç»„ä»¶ã€‚

# vueå®‰è£…

## è‡ªåŠ¨å®‰è£… 

Storybookå®˜æ–¹æä¾›äº†npxçš„è‡ªåŠ¨å®‰è£…æ¨¡å¼ï¼Œä½ åªéœ€è¦åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä¸‹é¢çš„è„šæœ¬ï¼ˆå®‰è£…æ—¶é—´è¾ƒé•¿ï¼‰ï¼š 

    ***npx -p @storybook/cli sb init --type vue*** 

    åœ¨å®‰è£…å®Œæˆåï¼Œé¡¹ç›®ä¸­å¤šå‡ºäº†ä¸¤ä¸ªæ–‡ä»¶å¤¹â€¯.storybookâ€¯å’Œâ€¯stories 
  ![](./imgs/img1.png)

    åœ¨å‘½ä»¤è¡Œæ‰§è¡Œâ€¯npm run storybookâ€¯    Storybooké»˜è®¤ä¼šåœ¨localhost: 6006ç«¯å£æ‰“å¼€
  ![](./imgs/img2.png)  

## æ‰‹åŠ¨å®‰è£… 

1. å®‰è£…â€¯@storybook/vue 
    npm install @storybook/vue 

2. å®‰è£…ç›¸å…³ä¾èµ– 

    npm install vue-loader vue-template-compiler @babel/core babel-loader babel-preset-vue --save-dev 

3. åœ¨package.jsonä¸­æ·»åŠ å¯åŠ¨è„šæœ¬

```javascript
{ 
  "scripts": { 
    "storybook": "start-storybook" 
  } 
} 
```

4. æ·»åŠ å…¥å£æ–‡ä»¶.storybook/main.js 

```javascript
module.exports = { 
  stories: ['../src/components/**/*.stories.js'], 
  addons: [], 
}; 
```  

5. å¯åŠ¨Storybookï¼Œé»˜è®¤ä¼šåœ¨localhost: 6006 

    npm run storybook 

# reactå®‰è£…
## è‡ªåŠ¨å®‰è£… 

npx -p @storybook/cli sb init 
 
å¦‚æœä½¿ç”¨Create React APP ï¼Œä½ åº”å½“ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤ï¼š 
npx -p @storybook/cli sb init --type react_scripts 

## æ‰‹åŠ¨æ­¥éª¤ 

1. å…¨å±€å®‰è£…Storybook   
  npm i -g storybook 

2. ä¾æ¬¡å®‰è£…ï¼š 
    npm install @storybook/react --save-dev 

    npm install react react-dom --save 
    npm install babel-loader @babel/core --save-dev 

    åœ¨package.jsonæ·»åŠ npm å‘½ä»¤ï¼š 
```json
{ 
   "scripts": { 
         "storybook": "start-storybook" 
   } 
} 
```
 
3. åˆ›å»ºâ€¯.storebook/main.js: 
```javascript
module.exports = { 
    stories: ['../src/**/*.stories.[tj]s'], 
}; 
```

4. åˆ›å»ºç¬¬ä¸€ä¸ªStoreï¼Œæ–°å»ºæ–‡ä»¶../src/index/stories.jsâ€¯: 
```javascript
import React from 'react'; 
import { Button } from '@storybook/react/demo'; 
 

export default { title: 'Button' }; 
 

export const withText = () => <Button>Hello Button</Button>; 
 

export const withEmoji = () => ( 
  <Button> 
    <span role="img" aria-label="so cool"> 
      ğŸ˜€ ğŸ˜ ğŸ‘ ğŸ’¯ 
    </span> 
  </Button> 
); 
```

è¿™æ ·å°±åˆ›å»ºäº†æŒ‰é’®ç»„ä»¶çš„ä¸¤ä¸ªstoryã€‚ 

Button   

    (/With Text)  
    (/With Emoji)

 

è¿è¡Œ: npm run storybook 
 